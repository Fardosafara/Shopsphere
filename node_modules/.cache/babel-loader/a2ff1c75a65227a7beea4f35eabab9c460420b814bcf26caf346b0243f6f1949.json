{"ast":null,"code":"var _jsxFileName = \"/home/fardosa/Project5/snapup-commerce-site-react-js/src/pages/HomePage/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport \"./HomePage.scss\";\n//import HeaderSlider from \"../../components/Slider/HeaderSlider\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getAllCategories } from '../../store/categorySlice';\nimport ProductList from \"../../components/ProductList/ProductList\";\nimport { fetchAsyncProducts, getAllProducts, getAllProductsStatus } from '../../store/productSlice';\nimport Loader from \"../../components/Loader/Loader\";\nimport { STATUS } from '../../utils/status';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const categories = useSelector(getAllCategories);\n  useEffect(() => {\n    dispatch(fetchAsyncProducts(50));\n  }, [dispatch]);\n  const products = useSelector(getAllProducts);\n  const productStatus = useSelector(getAllProductsStatus);\n\n  // randomizing the products in the list\n  const tempProducts = [];\n  if (products.length > 0) {\n    for (let i in products) {\n      let randomIndex = Math.floor(Math.random() * products.length);\n      while (tempProducts.includes(products[randomIndex])) {\n        randomIndex = Math.floor(Math.random() * products.length);\n      }\n      tempProducts[i] = products[randomIndex];\n    }\n  }\n  const getCategoryName = category => {\n    if (typeof category === 'string') return category;\n    if (typeof category === 'object' && category !== null) return category.name || 'Unknown Category';\n    return 'Unknown Category';\n  };\n  const getCategoryProducts = categoryIndex => {\n    const category = categories[categoryIndex];\n    if (!category) return [];\n    const categoryName = getCategoryName(category);\n    return products.filter(product => product.category === categoryName);\n  };\n  const categoryProducts = [getCategoryProducts(0), getCategoryProducts(1), getCategoryProducts(2), getCategoryProducts(3)];\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slider-wrapper\",\n      children: [\"//  \", /*#__PURE__*/_jsxDEV(HeaderSlider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content bg-whitesmoke\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"categories py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"categories-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"title-md\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"See our products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), productStatus === STATUS.LOADING ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 51\n            }, this) : /*#__PURE__*/_jsxDEV(ProductList, {\n              products: tempProducts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 64\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), categories.slice(0, 4).map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"categories-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"title-md\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: getCategoryName(category)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), productStatus === STATUS.LOADING ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 53\n            }, this) : /*#__PURE__*/_jsxDEV(ProductList, {\n              products: categoryProducts[index]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 66\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"hO6jwDJs1iU6qdL4krun2MeUHt4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","getAllCategories","ProductList","fetchAsyncProducts","getAllProducts","getAllProductsStatus","Loader","STATUS","HomePage","dispatch","categories","products","productStatus","tempProducts","length","i","randomIndex","Math","floor","random","includes","getCategoryName","category","name","getCategoryProducts","categoryIndex","categoryName","filter","product","categoryProducts","LOADING","slice","map","index"],"sources":["/home/fardosa/Project5/snapup-commerce-site-react-js/src/pages/HomePage/HomePage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport \"./HomePage.scss\";\n//import HeaderSlider from \"../../components/Slider/HeaderSlider\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getAllCategories } from '../../store/categorySlice';\nimport ProductList from \"../../components/ProductList/ProductList\";\nimport { fetchAsyncProducts, getAllProducts, getAllProductsStatus } from '../../store/productSlice';\nimport Loader from \"../../components/Loader/Loader\";\nimport { STATUS } from '../../utils/status';\n\nconst HomePage = () => {\n  const dispatch = useDispatch();\n  const categories = useSelector(getAllCategories);\n\n  useEffect(() => {\n    dispatch(fetchAsyncProducts(50));\n  }, [dispatch]);\n\n  const products = useSelector(getAllProducts);\n  const productStatus = useSelector(getAllProductsStatus);\n\n  // randomizing the products in the list\n  const tempProducts = [];\n  if(products.length > 0){\n    for(let i in products){\n      let randomIndex = Math.floor(Math.random() * products.length);\n\n      while(tempProducts.includes(products[randomIndex])){\n        randomIndex = Math.floor(Math.random() * products.length);\n      }\n      tempProducts[i] = products[randomIndex];\n    }\n  }\n\n  const getCategoryName = (category) => {\n    if (typeof category === 'string') return category;\n    if (typeof category === 'object' && category !== null) return category.name || 'Unknown Category';\n    return 'Unknown Category';\n  };\n\n  const getCategoryProducts = (categoryIndex) => {\n    const category = categories[categoryIndex];\n    if (!category) return [];\n    const categoryName = getCategoryName(category);\n    return products.filter(product => product.category === categoryName);\n  };\n\n  const categoryProducts = [\n    getCategoryProducts(0),\n    getCategoryProducts(1),\n    getCategoryProducts(2),\n    getCategoryProducts(3)\n  ];\n\n  return (\n    <main>\n      <div className='slider-wrapper'>\n      //  <HeaderSlider />\n      </div>\n      <div className='main-content bg-whitesmoke'>\n        <div className='container'>\n          <div className='categories py-5'>\n            <div className='categories-item'>\n              <div className='title-md'>\n                <h3>See our products</h3>\n              </div>\n              {productStatus === STATUS.LOADING ? <Loader /> : <ProductList products={tempProducts} />}\n            </div>\n\n            {categories.slice(0, 4).map((category, index) => (\n              <div key={index} className='categories-item'>\n                <div className='title-md'>\n                  <h3>{getCategoryName(category)}</h3>\n                </div>\n                {productStatus === STATUS.LOADING ? <Loader /> : <ProductList products={categoryProducts[index]} />}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </main>\n  )\n}\n\nexport default HomePage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}